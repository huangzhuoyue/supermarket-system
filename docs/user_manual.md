# C语言超市管理系统使用手册

## 系统概述

本系统是一个基于C语言开发的命令行超市管理系统，主要包含商品管理、销售管理和会员管理三个核心模块。系统采用文本文件(.txt)存储数据，文件与代码位于同一目录下。

## 系统功能

### 1. 商品管理
- **添加商品**：录入新商品信息，包括商品ID、名称、分类、供应商、价格、库存等
- **删除商品**：根据商品ID删除商品信息
- **修改商品**：根据商品ID修改商品信息（价格、库存等）
- **查询商品**：支持按ID、名称查询商品详细信息
- **分类查询**：显示特定分类下的所有商品
- **供应商查询**：显示特定供应商提供的所有商品
- **显示所有商品**：列出系统中所有商品信息

### 2. 销售管理
- **购物车功能**：
  - 创建新购物车
  - 添加商品到购物车
  - 修改购物车中商品数量
  - 从购物车移除商品
  - 清空购物车
- **结账功能**：
  - 计算折扣（根据会员等级）
  - 使用积分抵扣
  - 使用优惠券
  - 生成交易记录
- **退货处理**：根据交易ID进行退货，恢复库存和会员积分
- **交易记录查询**：按交易ID或会员ID查询历史交易
- **库存管理**：
  - 销售后自动减少库存
  - 退货后自动恢复库存
  - 库存不足时触发预警

### 3. 会员管理
- **会员信息管理**：
  - 添加会员
  - 查询会员信息
  - 修改会员信息
- **积分系统**：
  - 消费时自动累计积分（1元=1积分）
  - 积分兑换优惠券（100积分=10元优惠券）
- **会员等级**：
  - 普通会员（0-1000元）：98折
  - 银卡会员（1000-5000元）：95折
  - 金卡会员（5000元以上）：9折

## 使用指南

### 系统登录
系统启动后，首先显示系统封面，然后进入登录界面。默认管理员账号：
- 用户名：admin
- 密码：admin123

### 主菜单操作
登录成功后，系统显示主菜单，包括以下选项：
1. 商品管理
2. 销售管理
3. 会员管理
4. 系统管理（仅管理员可用）
5. 帮助文档
6. 关于系统
0. 退出系统

### 商品管理操作
在商品管理菜单中，可以进行以下操作：
1. 添加商品：输入商品信息，包括ID、名称、分类、供应商、价格、库存等
2. 删除商品：输入商品ID，确认后删除
3. 修改商品：输入商品ID，然后修改相应信息
4. 查询商品：按ID或名称查询商品
5. 按分类查询：输入分类名称，显示该分类下的所有商品
6. 按供应商查询：输入供应商名称，显示该供应商的所有商品
7. 显示所有商品：列出系统中所有商品
0. 返回主菜单

### 销售管理操作
在销售管理菜单中，可以进行以下操作：
1. 新建购物车：创建新购物车，添加商品
2. 查看购物车：查看当前购物车内容，可修改数量或移除商品
3. 结算：处理购物车结账，支持会员折扣、积分抵扣和优惠券
4. 退货处理：根据交易ID进行退货
5. 查询交易记录：按交易ID或会员ID查询历史交易
0. 返回主菜单

### 会员管理操作
在会员管理菜单中，可以进行以下操作：
1. 添加会员：输入会员信息，包括ID、姓名、电话等
2. 查询会员：按ID或电话查询会员信息
3. 修改会员信息：修改会员姓名、电话等信息
4. 积分兑换优惠券：使用会员积分兑换优惠券
5. 显示所有会员：列出系统中所有会员
0. 返回主菜单

### 系统管理操作（仅管理员可用）
在系统管理菜单中，可以进行以下操作：
1. 修改密码：修改当前用户密码
2. 添加用户：添加新的系统用户
3. 删除用户：删除系统用户（不能删除admin）
4. 数据备份：备份系统数据
5. 数据恢复：恢复系统数据
0. 返回主菜单

## 注意事项
1. 商品ID建议使用P开头的字符串，如P001
2. 会员ID建议使用M开头的字符串，如M001
3. 退出系统前请确保所有操作已完成
4. 定期备份数据，避免数据丢失
5. 管理员账号请妥善保管

## 系统文件说明
系统使用以下文本文件存储数据：
- users.txt：存储系统用户账号和密码
- products.txt：存储商品信息
- members.txt：存储会员信息
- transactions.txt：存储交易记录
- transaction_details.txt：存储交易明细
- coupons.txt：存储优惠券信息

## 常见问题解答
1. **问题**：系统启动时提示"初始化数据文件失败"
   **解答**：请检查程序是否有足够的文件读写权限

2. **问题**：添加商品时提示"商品ID已存在"
   **解答**：请使用不同的商品ID，商品ID在系统中必须唯一

3. **问题**：结账时提示"库存不足"
   **解答**：所购商品数量超过库存，请减少购买数量或等待库存补充

4. **问题**：会员注册时提示"手机号已被注册"
   **解答**：一个手机号只能注册一个会员账号，请使用其他手机号

5. **问题**：积分兑换时提示"积分不足"
   **解答**：兑换优惠券需要足够的积分，每100积分可兑换10元优惠券
