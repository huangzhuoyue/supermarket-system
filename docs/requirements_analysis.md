# C语言超市管理系统需求分析

## 系统概述
本系统是一个基于C语言开发的命令行超市管理系统，主要包含商品管理、销售管理和会员管理三个核心模块。系统采用文本文件(.txt)存储数据，文件与代码位于同一目录下。

## 功能需求详细分析

### 1. 商品管理模块
#### 1.1 商品信息结构
商品信息应包含以下字段：
- 商品ID（唯一标识）
- 商品名称
- 商品分类
- 供应商
- 单价
- 库存数量
- 生产日期（可选）
- 保质期（可选）

#### 1.2 商品增删改查功能
- **添加商品**：录入新商品信息，检查ID是否重复
- **删除商品**：根据商品ID删除商品信息
- **修改商品**：根据商品ID修改商品信息（价格、库存等）
- **查询商品**：支持按ID、名称查询商品详细信息

#### 1.3 分类查询功能
- **按分类查询**：显示特定分类下的所有商品
- **按供应商查询**：显示特定供应商提供的所有商品

### 2. 销售管理模块
#### 2.1 购物车功能
- **购物车数据结构**：存储临时选择的商品及数量
- **添加商品**：将商品添加到购物车，支持数量选择
- **修改数量**：修改购物车中商品的数量
- **移除商品**：从购物车中移除商品
- **清空购物车**：清空所有已选商品
- **折扣计算**：根据会员等级自动计算折扣价格

#### 2.2 交易记录功能
- **交易数据结构**：包含交易ID、日期时间、商品列表、数量、单价、总价、会员信息等
- **生成交易记录**：结算时生成交易记录并保存
- **查询交易记录**：按日期、会员ID等查询历史交易
- **退货处理**：支持根据交易记录进行退货，恢复库存

#### 2.3 库存管理功能
- **库存更新**：销售完成后自动减少相应商品库存
- **库存预警**：当商品库存低于预设阈值时触发预警提示

### 3. 会员管理模块
#### 3.1 会员信息结构
- 会员ID（唯一标识）
- 会员姓名
- 联系电话
- 注册日期
- 累计消费金额
- 当前积分
- 会员等级

#### 3.2 积分系统功能
- **积分累计规则**：根据消费金额累计积分（如消费1元累计1积分）
- **积分查询**：查询会员当前积分
- **积分兑换**：使用积分兑换优惠券（如100积分兑换10元优惠券）
- **优惠券使用**：在结算时使用优惠券抵扣部分金额

#### 3.3 会员等级功能
- **等级划分**：根据累计消费金额划分会员等级（如普通会员、银卡会员、金卡会员）
- **等级特权**：不同等级享受不同折扣（如普通会员98折、银卡会员95折、金卡会员9折）
- **等级升降**：根据累计消费自动调整会员等级

## 非功能需求

### 1. 用户界面要求
- 软件封面：启动时显示系统名称、版本等信息
- 主菜单：清晰展示各功能模块入口
- 人机交互：每个输入处都有明确提示
- 帮助文档：提供操作指南和功能说明

### 2. 程序设计要求
- 模块化设计：各功能模块相对独立
- 函数注释：每个函数都有详细注释说明功能、参数和返回值
- 输入验证：对用户输入进行有效性检查，防止非法输入
- 用户登录：系统启动时需要验证用户名和密码

### 3. 数据存储要求
- 使用.txt文本文件存储数据
- 文件与代码位于同一目录
- 数据格式需要设计合理的分隔符和结构

## 数据文件设计初步构想

系统将使用以下文本文件存储数据：
1. `users.txt` - 存储系统用户账号和密码
2. `products.txt` - 存储商品信息
3. `members.txt` - 存储会员信息
4. `transactions.txt` - 存储交易记录
5. `coupons.txt` - 存储优惠券信息

每个文件的具体格式将在系统设计阶段详细定义。
